<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Testing fieldset with roles and legend</title>
    <link rel="stylesheet" href="../-assets/shared.css">
  </head>
  <body>
    <div id="app">
      <header>
        <h1><code>fieldset</code> with <code>role</code> and <code>legend</code> tests</h1>
        <div class="dates">
          <p>Published: <span>February 2nd, 2022</span></p>
          <!-- <p>Last Updated: ...</p> -->
        </div>
      </header>

      <div class="test">
        <h2><code>fieldset</code> with <code>role=toolbar</code> and <code>legend</code></h2>
        <div class="test__case">
          <fieldset role=toolbar>
            <legend>Example 1</legend>
            <label>test <input type="checkbox"></label>
            <label>testb <input type="checkbox"></label>
            <label>testc <input type="checkbox"></label>
          </fieldset>
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details>
              <summary>results</summary>
              <div>
                <p><strong>Note:</strong> the way in which different screen readers / browsers announce the accName of a toolbar may vary. 
                  E.g., whether a user hears the name of the toolbar will depend on their navigation method (forms mode / scan mode).</p>
                <hr>
                <p>Chromium & Gecko + JAWS 2021: announces legend as accName of 'toolbar'</p>
                <p>Chromium & Gecko + Narrator: announces legend as accName of 'toolbar'</p>
                <p>Chromium & Gecko + NVDA 2021.3.1: announces legend as accName of 'toolbar'</p>
                <p>macOS Webkit & Chromium & Gecko + VoiceOver: announces legend as accName of 'toolbar'</p>
                <p>iOS Webkit + VO: announces 'form start' but does not announce role or name of toolbar. 
                  If toolbar is specified on a div, 'form start' is not announced, but also, the role and name are not announced either.</p>
                <p>Chromium + TalkBack does not announce the toolbar nor its name when entering via swipe gestures.</p>
                <p>Gecko + TalkBack does not announce the toolbar role or name when entered via swipe gestures.</p>
              </div>
            </details>
          </div>
        </div>
      </div>
      
      <div class="test">
        <h2><code>fieldset</code> with <code>role=menubar</code> and <code>legend</code></h2>
        <div class="test__case">
          <fieldset role=menubar>
            <legend>Example 1</legend>
            <button role=menuitem>test</button>
            <button role=menuitem>test2</button>
            <button role=menuitem>test3</button>
          </fieldset>
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details>
              <summary>results</summary>
              <div>
                <p><strong>Note:</strong> the way in which different screen readers / browsers announce the accName of a menubar may vary. 
                  E.g., whether a user hears the name of the menubar will depend on their navigation method (forms mode / scan mode).</p>
                <hr>
                <p>Chromium & Gecko + JAWS 2021: announces legend as accName of 'menubar'</p>
                <p>Chromium & Gecko + Narrator: announces legend as accName of 'menbuar'</p>
                <p>Chromium & Gecko + NVDA 2021.3.1: announces legend as accName of 'menbuar'</p>
                <p>macOS Webkit & Chromium + VoiceOver: announces legend as accName of 'menubar'</p>
                <p>Gecko + VoiceOver: providing a menubar an accessible name (regardless of method) has bugs. 
                  The a11y tree correctly shows "Example 1" as the accName.</p>
                <p>iOS Webkit + VO: announces 'form start' but does not announce role or name of menubar. 
                  If menubar is specified on a div, 'form start' is not announced, but also, the role and name are not announced either.</p>
                <p>Chromium + TalkBack does not announce the menubar nor its name when entering via swipe gestures.</p>
                <p>Gecko + TalkBack does not announce the menubar role or name when entered via swipe gestures.</p>
                <p>Gecko + TalkBack <strong>DOES</strong> announce the menubar and its name when entering if using an aria-label to provide the accessible name, rather than legend.
              </div>
            </details>
          </div>
        </div>
      </div>
      
      
      <h2>Control tests</h2>
      <p>The following are to compare behavior with specifying toolbar and menubar roles on a <code>div</code> 
        and an accessible name by use of <code>aria-label</code>, instead.</p>
      
         <div class="test">
        <h2><code>div</code> with <code>role=toolbar</code> name from <code>aria-label</code></h2>
        <div class="test__case">
          <div role=toolbar aria-label="control example">
            <label>test <input type="checkbox"></label>
            <label>testb <input type="checkbox"></label>
            <label>testc <input type="checkbox"></label>
          </div>
        </div>
      </div>
      
      <div class="test">
        <h2><code>div</code> with <code>role=menubar</code> name from <code>aria-label</code></h2>
        <div class="test__case">
          <fieldset role=menubar aria-label="control example">
            <button role=menuitem>test</button>
            <button role=menuitem>test2</button>
            <button role=menuitem>test3</button>
          </fieldset>
        </div>
      </div>
    </div> <!-- /#app -->

    <script src="../-assets/shared.js"></script>
  </body>
</html>
